# Discord Invitation and Role Bot - Webページ要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
Discord Invitation and Role Bot

### 1.2 目的
**単一機能特化型Bot**: ユーザーを招待してロールを自動付与する、極めてシンプルで分かりやすい機能に特化したDiscord Bot。複雑な多機能ではなく、「招待リンク生成 + 自動ロール付与」という一つの核心機能を完璧に実現することで、使いやすさとデザイン性を重視したユーザー体験を提供する。

### 1.3 対象ユーザー
- **メインターゲット:** Discord サーバー管理者
- **サブターゲット:** Discord サーバーの新規参加希望者
- **参考情報として:** 開発者やオープンソース貢献者（GitHubリンクのみ提供）

### 1.4 核心機能（シンプル特化）
**やることは1つだけ**: 
1. 管理者がコマンドで「ロール付き招待リンク」を生成
2. そのリンクから参加した人に自動でロールが付与される

**これ以外の機能は一切なし** - 分かりやすさと確実性を最優先した設計思想

## 2. デザイン要件

### 2.1 デザインコンセプト - 大学サイト風スタイル
- **現代的でクリーンなデザイン:** 洗練された教育機関レベルの信頼感あるデザイン
- **清潔感のある配色:** 白を基調とした明るく信頼感のあるカラーパレット
- **情報整理されたレイアウト:** グリッドベースで情報が整然と配置されたレイアウト
- **親しみやすさと権威性の両立:** 活気がありながら信頼感を与えるデザイン

### 2.2 視覚的要素 - 大学サイト風
- **大型ヒーローセクション:** インパクトのあるメインビジュアル
- **モジュラーデザイン:** カード型コンテンツで情報を整理
- **グリッドレイアウト:**
  - 規則正しく配置されたコンテンツブロック
  - レスポンシブ対応のグリッドシステム
  - 視認性の高い情報配置
- **バナー・ピックアップエリア:**
  - 重要な情報を効果的に強調
  - 多層的な情報提示
  - CTA（行動喚起）の明確な配置

### 2.3 配色パレット - ヘッダー画像連動
- **メインカラー:** 
  - プライマリ: #E91E63 (ピンク)
  - セカンダリ: #FF9800 (オレンジ)
  - アクセント: #42A5F5 (ブルー)
- **サポートカラー:**
  - #ffffff (Pure White - 背景)
  - #F8BBD9 (Light Pink - セクション分け)
  - #F5E6D3 (Cream - テキスト背景)
  - #66BB6A (Success Green - アクション)

### 2.4 大学サイト風UI要素
- **ナビゲーション:** 
  - 横型グローバルナビゲーション
  - ドロップダウンメニュー対応
  - モバイル時のハンバーガーメニュー
- **カードデザイン:** 
  - 白背景にシャドウ効果
  - 整然とした情報配置
  - ホバー効果による軽快なインタラクション
- **ボタンデザイン:** 
  - ソリッドでわかりやすいデザイン
  - 明確なCTAボタン
- **タイポグラフィ:** 
  - 読みやすいサンセリフフォント
  - ヒエラルキーの明確な見出し構造

## 3. 機能要件

### 3.1 メインサイト（使用者向けページ）

#### 3.1.1 トップページ（index.html）- 大学サイト風
**目的:** 大学の公式サイトのような信頼感と親しみやすさで、Botの価値を明確に伝える

**大学サイト風デザイン要素:**
- **大型ヒーローセクション:** インパクトのあるメインビジュアルとキャッチコピー
- **情報整理:** グリッドレイアウトによる整然とした情報配置
- **ナビゲーション:** 横型メニューで主要機能への明確な導線

**含む内容:**
- **ヒーローセクション:** 
  - 清潔感のある背景デザイン
  - 明確なキャッチコピー "Transform Your Discord Server"
  - わかりやすい導入ボタン
- **機能紹介セクション:** 6つの主要機能をカード形式で整理
- **使い方ガイド:** 3ステップの明確な使用手順
- **コマンド紹介:** 利用可能なコマンドを表形式で紹介
- **導入セクション:** Bot追加への明確な導線

**CTA（Call To Action）:**
- 「Botを追加する」（プライマリボタン）
  - リンク先: Bot招待URL（下記参照）
- 「機能を詳しく見る」（セカンダリボタン）
  - リンク先: 同ページ内の機能セクション

#### 3.1.2 プライバシーポリシー（privacy.html）- エレガントな法的文書
**目的:** 重要な情報を美しく、分かりやすく提示する上品なページ

**ファッション誌風デザイン要件:**
- **雑誌記事のような読みやすさ:** 段落間の美しい余白と読みやすいタイポグラフィ
- **エレガントなセクション分け:** 繊細なボーダーラインで情報を整理
- **重要項目の美しいハイライト:** パステルカラーのコールアウトボックス
- **上品なナビゲーション:** トップページへの美しいリンクボタン

**含む内容:**
- **私たちの約束:** 分かりやすい言葉でのデータ保護方針
- **情報の取り扱い:** 美しいアイコンと共に説明
- **あなたの権利:** ユーザーの権利を親しみやすく説明
- **お問い合わせ:** エレガントな連絡方法の案内

#### 3.1.3 利用規約（terms.html）- 親しみやすい規約ページ
**目的:** 硬い法的文書を、ファッション誌のように親しみやすくデザイン

**ファッション誌風デザイン要件:**
- **雑誌的レイアウト:** 美しい段組みとビジュアル要素
- **フレンドリーなトーン:** 威圧的でない、親しみやすいデザイン
- **美しい目次:** ファッション誌の目次のようなナビゲーション
- **重要事項の優雅な強調:** 上品なアクセントカラーでのハイライト

**含む内容:**
- **サービスについて:** 温かみのある言葉でのサービス説明
- **ご利用の約束:** 基本的なルールを親しみやすく
- **大切なお願い:** 禁止事項を優しい言葉で説明
- **サポート:** 困った時の美しいサポート案内

### 3.2 機能ページ（利用者体験向け）

#### 3.2.1 招待リンク参加ページ（/join/<link_id>）
**目的:** 招待を受けた人が迷わずサーバーに参加できる美しいページ

**デザイン要件:**
- 一目でサーバー情報が分かるデザイン
- 安心感を与えるビジュアル
- モバイルファーストなレイアウト

**機能:**
- サーバー情報の魅力的な表示
- 取得ロールの明確な説明
- ワンクリックでDiscord認証へ
- 直感的な参加フロー

#### 3.2.2 Bot導入完了ページ（/bot-install）
**目的:** サーバー管理者がBotを導入した後、次に何をすべきかを分かりやすく案内

**デザイン要件:**
- 達成感を演出するデザイン
- 次のステップが一目瞭然
- 各コマンドの説明を視覚的に表現

**機能:**
- 導入成功のお祝いメッセージ
- すぐに使えるコマンド一覧
- 初心者向けのステップバイステップガイド
- サポート情報への誘導

#### 3.2.3 成功・完了ページ群
**目的:** ユーザーが何かを達成した際の満足感を高める

**デザイン要件:**
- ポジティブな感情を呼び起こすデザイン
- 成功したことが明確に分かる表示
- 次のアクションへの自然な誘導

#### 3.2.4 エラーページ
**目的:** 問題が発生した際も、ユーザーを不安にさせない親切な案内

**デザイン要件:**
- 威圧的でない、親しみやすいエラー表示
- 解決方法を分かりやすく提示
- 必要に応じてサポートへの連絡方法を提供

## 3. 非機能要件

### 3.1 パフォーマンス
- ページ読み込み時間: 3秒以内
- レスポンシブデザイン対応
- 軽量な画像とCSS/JSファイル

### 3.2 セキュリティ
- HTTPS通信必須
- CSRF攻撃対策（stateパラメータ）
- レート制限（60秒間に20リクエスト）
- セッション管理（OAuth認証）

### 3.3 可用性
- 24時間365日稼働目標
- エラー発生時の適切なフォールバック表示
- 外部サービス（Discord API）の障害対応

### 3.4 互換性
- モダンブラウザ対応（Chrome, Firefox, Safari, Edge）
- モバイルデバイス対応
- アクセシビリティ配慮（WCAG 2.1 AA準拠目標）

### 3.5 保守性
- コードの可読性とドキュメント化
- 環境変数による設定管理
- ログ出力とモニタリング

## 4. 技術仕様・重要なURL

### 4.1 Bot招待リンク
**公式Bot招待URL:**
```
https://discord.com/oauth2/authorize?client_id=1399982657424588922&permissions=2415986689&response_type=code&redirect_uri=https%3A%2F%2Finvitation-and-role.kei31.com%2Fbot-install&integration_type=0&scope=identify+guilds.join+bot
```

**パラメータ詳細:**
- `client_id`: 1399982657424588922
- `permissions`: 2415986688（メンバー管理、ロール管理、スラッシュコマンド等）
- `redirect_uri`: https://invite-and-role.kei31.com/bot-install
- `scope`: bot+identify+guilds.join

### 4.2 関連URL
- **メインWebサイト:** https://discord-invitation-and-role.kei31.com/
- **招待リンク形式:** https://invitation-and-role.kei31.com/join/{link_id}
- **GitHub リポジトリ:** https://github.com/tejastice/discord-invitation-and-role-bot

### 4.3 フロントエンド技術
- HTML5, CSS3, JavaScript（ES6+）
- レスポンシブデザイン
- ファッション誌風UI/UXデザイン
- パステルカラーパレット（Discord Blue + ピンク/クリーム系）

### 4.4 バックエンド技術
- Python 3.8+
- Flask フレームワーク
- Discord.py ライブラリ
- PostgreSQL データベース

### 4.5 インフラ・外部連携
- HTTPS対応（必須）
- Discord API（OAuth2, Bot API）
- GitHub（ソースコード管理）

## 5. ユーザーストーリー

### 5.1 Discord サーバー管理者として
- **発見段階:** 「このBotは私のサーバーに役立つのか？」を数秒で判断したい
- **検討段階:** 「どんな機能があるのか」「どれくらい簡単に使えるのか」を理解したい
- **導入段階:** 「Botの追加から実際の運用開始まで」をスムーズに進めたい
- **運用段階:** 「コマンドの使い方」「トラブルシューティング」を素早く確認したい

### 5.2 サーバー参加希望者として
- **招待受信:** 招待リンクをクリックしたとき「これは安全なのか？」「どんなサーバーなのか？」を確認したい
- **参加判断:** 「自分が取得するロール」「サーバーの雰囲気」を事前に把握したい
- **参加実行:** 複雑な手順なしに「ワンクリックで安全に参加」したい

## 6. 画面遷移

```
[トップページ] 
├── [プライバシーポリシー]
├── [利用規約]
├── [GitHub（外部）]
└── [セットアップガイド（同ページ内）]

[招待リンク] → [参加ページ] → [Discord認証] → [コールバック] → [成功/エラーページ]

[Bot招待] → [Discord認証] → [Bot導入コールバック] → [導入完了ページ]
```

## 7. エラーハンドリング

### 7.1 ユーザー向けエラー
- 無効な招待リンク
- 期限切れリンク
- 使用回数上限達成
- 認証失敗
- サーバー参加失敗

### 7.2 システムエラー
- Discord API障害
- データベース接続エラー
- 内部サーバーエラー

## 8. 開発者・オープンソース貢献者向け情報

### 8.1 GitHub リポジトリ
本プロジェクトはオープンソースとして開発されています。

**リポジトリURL:** https://github.com/tejastice/discord-invitation-and-role-bot

### 8.2 開発者向け情報
- **技術仕様:** README.md に詳細な技術情報を記載
- **セットアップガイド:** 開発環境の構築方法
- **コントリビューションガイド:** プルリクエストの方法
- **API仕様:** 詳細なAPI仕様書
- **アーキテクチャ:** システム構成図と設計思想

### 8.3 サポートとコミュニティ
- **Issue報告:** バグ報告や機能要望はGitHub Issuesまで
- **ディスカッション:** GitHub Discussionsで質問や意見交換
- **プルリクエスト:** 機能追加や改善のコントリビューション歓迎

## 9. 成功指標

### 9.1 ユーザー満足度指標
- **導入完了率:** サイト訪問者のうち、実際にBot導入まで完了した割合
- **使用継続率:** Bot導入後、継続的に利用しているサーバーの割合
- **招待成功率:** 招待リンクから実際にサーバー参加が完了した割合

### 9.2 ユーザビリティ指標
- **サイト滞在時間:** ユーザーがサイトで情報を十分に確認しているか
- **ページ離脱率:** 特にBot導入フローでの離脱箇所の特定
- **モバイル利用率:** レスポンシブデザインの効果測定

---

**作成日:** 2025年7月31日  
**バージョン:** 1.1  
**更新内容:** 
- 使用者向けWebページの要件定義に特化
- Bot招待リンクと重要URLを追加
- ファッション誌風デザインの詳細化  
**作成者:** Claude Code  
**確認者:** [要記入]